window.background={internal:{$d:$(document),$w:$(window),$b:$("body")},slide:function(d){var b,c,g,h,f,a,e;f=this.internal;c={horizontal:"center",duration:"1s",easeType:"ease-out"};if(typeof d==="string"){d={horizontal:arguments[0],duration:arguments[1],easeType:arguments[2]}}h=$.extend(c,d);b="background-position "+h.duration+" "+h.easeType;f.$b.css({transition:b,"moz-transition":b,"-webkit-transition":b,"-o-transition":b,"-ms-transition":b});e=[f.$d.height(),f.$w.height()],g=e[0],a=e[1];f.$w.on("resize",function(i){return a=$(this).height()});return f.$w.on("scroll",function(k){var i,j;g=g===f.$d.height()?g:f.$d.height();j=f.$d.scrollTop();i=j/(g-a)*100.toFixed(7);return f.$b.css("background-position",h.horizontal+(" "+i+"%"))})},tick:function(b){var g,a,f,d,e;d=this.internal;a={json:"",backgroundImage:"",backgroundColor:""};if(typeof b==="string"){b={json:arguments[0],backgroundImage:arguments[1],backgroundColor:arguments[2]}}f=$.extend(a,b);e=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/;g=function(p){var m,j,q,h,c,o,k,n,l,i;if(typeof p==="string"){p=$.parseJSON(p)}m=p.backgrounds;h=new Date();for(k=0,n=m.length;k<n;k++){q=m[k];c=q.started.split(":");j=q.ended.split(":");if(c[0]===j[0]){if(h.getHours()===parseInt(c[0])&&(c[1]<=(l=h.getMinutes())&&l<=j[1])){true}else{continue}}else{if((parseInt(c[0])<(i=h.getHours())&&i<parseInt(j[0]))){true}else{if(h.getHours()===parseInt(c[0])&&h.getMinutes()>=parseInt(c[1])){true}else{if(h.getHours()===parseInt(j[0])&&h.getMinutes()<=parseInt(j[1])){true}else{continue}}}}o=q}if(o){if(o.image){d.$b.css("background-image","url("+o.image+")")}else{if(f.backgroundImage){d.$b.css("background-image","url("+f.backgroundImage+")")}}if(o.color){return d.$b.css("background-color",o.color)}else{if(f.backgroundColor){return d.$b.css("background-color",f.backgroundColor)}}}else{if(f.backgroundImage){d.$b.css("background-image","url("+f.backgroundImage+")")}if(f.backgroundColor){return d.$b.css("background-color",f.backgroundColor)}}};if(typeof f.json==="string"){if(e.test(f.json)){return $.ajax({url:f.json,data:{},success:function(c){return g(c)},error:function(){if(f.backgroundImage){d.$b.css("background-image","url("+f.backgroundImage+")")}if(f.backgroundColor){return d.$b.css("background-color",f.backgroundColor)}}})}else{return g(f.json)}}else{return g(f.json)}}};